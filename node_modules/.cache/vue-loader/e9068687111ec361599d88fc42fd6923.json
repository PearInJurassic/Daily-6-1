{"remainingRequest":"C:\\Users\\Macbook Pro\\Desktop\\工作区\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Macbook Pro\\Desktop\\工作区\\src\\pages\\PostPage\\components\\Panel\\PanelComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Macbook Pro\\Desktop\\工作区\\src\\pages\\PostPage\\components\\Panel\\PanelComment.vue","mtime":1590550714902},{"path":"C:\\Users\\Macbook Pro\\Desktop\\工作区\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1590550697423},{"path":"C:\\Users\\Macbook Pro\\Desktop\\工作区\\node_modules\\babel-loader\\lib\\index.js","mtime":1590550697057},{"path":"C:\\Users\\Macbook Pro\\Desktop\\工作区\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1590550697423},{"path":"C:\\Users\\Macbook Pro\\Desktop\\工作区\\node_modules\\vue-loader\\lib\\index.js","mtime":1590550713661}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQb3N0Q29tbWVudEFsbCBmcm9tICJAL3BhZ2VzL1Bvc3RQYWdlL2NvbXBvbmVudHMvUG9zdC9Qb3N0Q29tbWVudEFsbCI7CmltcG9ydCBQb3N0Q29tbWVudENoaWxkIGZyb20gIkAvcGFnZXMvUG9zdFBhZ2UvY29tcG9uZW50cy9Qb3N0L1Bvc3RDb21tZW50Q2hpbGQiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQYW5lbENvbW1lbnQiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyByZXBseVRhcmdldDogYCJAIjpgLAogICAgICBhY3RpdmVOYW1lOiAxLAogICAgICBoZWFkVXJsOiAiaHR0cHM6Ly9jdWJlLmVsZW1lY2RuLmNvbS8zLzdjLzNlYTZiZWVjNjQzNjljMjY0MmI5MmM2NzI2ZjFlcG5nLnBuZyIsCiAgICAgIHJlcG9ydFVybDogcmVxdWlyZSgiQC9hc3NldHMvUG9zdC9yZXBvcnQucG5nIiksCiAgICAgIGxpa2U6IHRoaXMuaXNMaWtlLAogICAgICBsaWtlTnVtczogMCwKICAgICAgbGlrZUltZ0FycjogWydsaWtlLnBuZycsICdsaWtlLWZpbGwucG5nJ10sCiAgICAgIGNvbW1lbnRMaXN0OiBbXSwKICAgICAgY29tbWVudFRleHQ6ICcnLAogICAgICBQb3N0Q29tbWVudEFsbDogIlBvc3RDb21tZW50QWxsIiwKICAgICAgZm9sbG93VXJsOiByZXF1aXJlKCJAL2Fzc2V0cy9Qb3N0L2ZvbGxvdy5wbmciKSwKICAgIH0KICB9LAogIHByb3BzOiB7CiAgICBpc0xpa2U6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBpdGVtOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgcG9zdEluZm86IHsKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBsaWtlVXJsKCkgewogICAgICByZXR1cm4gcmVxdWlyZShgQC9hc3NldHMvUG9zdC8ke3RoaXMubGlrZUltZ0Fyclt0aGlzLmxpa2VdfWApOwogICAgfSwKICAgIGFub255bW91c0F2YXRhcigpIHsKICAgICAgcmV0dXJuIHRoaXMuQU5PTllNT1VTX0FWQVRBUjsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFBvc3RDb21tZW50QWxsLAogICAgUG9zdENvbW1lbnRDaGlsZAogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g6Lez6L2s5Yiw5Liq5Lq656m66Ze0CiAgICAgKi8KICAgIGdvdG9QZXJzb24ob3RoZXJJZCkgewogICAgICBpZiAob3RoZXJJZCA9PSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdJRCcpKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9wZXJzb25wYWdlJykKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL290aGVycy8ke290aGVySWR9YCkKICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICogQGRlc2NyaXB0aW9uIOS8oOmAkueCuei1nuaMiemSruS6i+S7tueahOWHveaVsAogICAgICovCiAgICBwcmVzc0xpa2VCdXR0b24oKSB7CiAgICAgIHRoaXMubGlrZSA/IHRoaXMubGlrZSA9IDAgOiB0aGlzLmxpa2UgPSAxOwogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmxpa2UgPT09IDEpIHsKICAgICAgICB0aGlzLmF4aW9zLnBvc3QoYCR7dGhpcy5HTE9CQUwuYXBpVXJsfS9hZGRsaWtlYCwgewogICAgICAgICAgdXNlcklkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJJRCIpLAogICAgICAgICAgcG9zdElkOiB0aGF0Lml0ZW0ucG9zdElkLAogICAgICAgIH0pCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoImNoaWxkQWRkTGlrZSIpCiAgICAgICAgICAgIHRoaXMubGlrZU51bXMrKzsKICAgICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5heGlvcy5nZXQoYCR7dGhpcy5HTE9CQUwuYXBpVXJsfS9yZW1vdmVsaWtlYCwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHVzZXJJZDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiSUQiKSwKICAgICAgICAgICAgcG9zdElkOiB0aGF0Lml0ZW0ucG9zdElkLAogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMubGlrZU51bXMtLTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgiY2hpbGRSZW1vdmVMaWtlIikKICAgICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDlj5HluIPor4TorroKICAgICAqLwogICAgYWRkQ29tbWVudCgpIHsKICAgICAgbGV0IHBhdHRlcm4gPSAvXigiQCkoXGQpKy87CiAgICAgIGxldCByID0gdGhpcy5jb21tZW50VGV4dC5tYXRjaChwYXR0ZXJuKTsKICAgICAgbGV0IHJlcGx5Q29tbWVudElkID0gKHIgPT0gbnVsbCkgPyAwIDogclswXS5zcGxpdCgnQCcpWzFdOwogICAgICBsZXQgYW5vbnltPXRoaXMuJHN0b3JlLnN0YXRlLmlzQW5vbnltb3VzOwogICAgICB0aGlzLmF4aW9zLnBvc3QoYCR7dGhpcy5HTE9CQUwuYXBpVXJsfS9jb21tZW50L2NyZWF0ZWNvbW1lbnRgLCB7CiAgICAgICAgImNvbW1lbnRDb250ZW50IjogdGhpcy5jb21tZW50VGV4dCwKICAgICAgICAicG9zdElkIjogdGhpcy5pdGVtLnBvc3RJZCwKICAgICAgICAidXNlcklkIjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiSUQiKSwKICAgICAgICBhbm9ueW0sCiAgICAgICAgcmVwbHlDb21tZW50SWQKICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29tbWVudExpc3QpCiAgICAgICAgICBsZXQgbmV3Q29tbWVudENoaWxkTGlzdCA9IFtdOwogICAgICAgICAgbmV3Q29tbWVudENoaWxkTGlzdC5wdXNoKHJlc3BvbnNlLmRhdGEubmV3Q29tbWVudCkKICAgICAgICAgIGlmICghcmVwbHlDb21tZW50SWQpIHsvL+WmguaenOaYr+mhtuWxguWbnuWkjQogICAgICAgICAgICB0aGlzLmNvbW1lbnRMaXN0LnB1c2gobmV3Q29tbWVudENoaWxkTGlzdCk7CiAgICAgICAgICB9IGVsc2Ugey8v5aaC5p6c5piv6K+E6K6655qE5Zue5aSNCiAgICAgICAgICAgICAgZm9yKGxldCBpbmRleCBpbiB0aGlzLmNvbW1lbnRMaXN0KSB7CiAgICAgICAgICAgICAgICBpZih0aGlzLmNvbW1lbnRMaXN0W2luZGV4XVswXS5jb21tZW50SWQgPT0gcmVwbHlDb21tZW50SWQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5jb21tZW50TGlzdFtpbmRleF0ucHVzaChyZXNwb25zZS5kYXRhLm5ld0NvbW1lbnQpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5jb21tZW50TGlzdCkKICAgICAgICB9KQogICAgICAvLyB0aGlzLmNvbW1lbnROdW0ucHVzaCh0aGlzLmNvbW1lbnRUZXh0KTsKICAgICAgdGhpcy5jb21tZW50VGV4dCA9ICcnCiAgICB9LAogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g5Li+5oql5biW5a2QCiAgICAgKi8KICAgIHJlcG9ydFBvc3QoKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+S9oOehruWumuimgeS4vuaKpeatpOi0tOWQlz8nLCAn5Li+5oqlJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmF4aW9zLmdldChgJHt0aGlzLkdMT0JBTC5hcGlVcmx9L3RpcG9mZnBvc3RgLCB7CiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIHBvc3RJZDogdGhpcy5pdGVtLnBvc3RJZCwKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+S4vuaKpeaIkOWKn++8gScKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICAgICAgfSkKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Li+5oql5pON5L2cJwogICAgICAgICAgfSkKICAgICAgICB9KQogICAgfSwKICAgIC8qKgogICAgICogQGRlc2NyaXB0aW9uIOWFs+azqOeUqOaItwogICAgICovCiAgICBmb2xsb3coKSB7CiAgICAgIHRoaXMuYXhpb3MuZ2V0KGAke3RoaXMuR0xPQkFMLmFwaVVybH0vYWRkRm9sbG93YCwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgdXNlcklkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdJRCcpLAogICAgICAgICAgZm9sbG93SWQ6IHRoaXMucG9zdEluZm8udXNlcklkLAogICAgICAgIH0KICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5YWz5rOo5oiQ5Yqf77yBJwogICAgICAgIH0pOwogICAgICB9KQogICAgfSwKICAgIC8qKgogICAgICogQGRlc2NyaXB0aW9uIOiOt+WPluivhOiuuuWIl+ihqAogICAgICovCiAgICBnZXRDb21tZW50cygpIHsKICAgICAgdGhpcy5heGlvcy5nZXQoYCR7dGhpcy5HTE9CQUwuYXBpVXJsfS9jb21tZW50L2dldGNvbW1lbnRieXBvc3RpZGAsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBvc3RJZDogdGhpcy5pdGVtLnBvc3RJZAogICAgICAgIH0KICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICBsZXQgY29tbWVudExpc3QgPSByZXNwb25zZS5kYXRhLmNvbW1lbnRMaXN0OwogICAgICAgIGZvciAobGV0IGluZGV4IGluIGNvbW1lbnRMaXN0KSB7CiAgICAgICAgICB0aGlzLmNvbW1lbnRMaXN0LnB1c2goY29tbWVudExpc3RbaW5kZXhdKQogICAgICAgICAgLy8gY29uc29sZS5sb2coY29tbWVudExpc3RbaW5kZXhdLCBpbmRleCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g6I635Y+W54K56LWe5pWwCiAgICAgKi8KICAgIGdldExpa2VOdW1zKCkgewogICAgICB0aGlzLmF4aW9zLmdldChgJHt0aGlzLkdMT0JBTC5hcGlVcmx9L2dldGxpa2VudW1gLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwb3N0SWQ6IHRoaXMuaXRlbS5wb3N0SWQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5saWtlTnVtcyA9IHJlc3BvbnNlLmRhdGEubGlrZU51bTsKICAgICAgfSkKICAgIH0sCiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDngrnlh7vmn5DmoI/lkI7nmoTmk43kvZwKICAgICAqIEBwYXJhbSBhY3RpdmVOdW0g54K55Ye75p+Q5qCP5ZCO6I635b6X55qE5qCP5Y+377yM5q2k5aSE5piv6K+E6K6655qEaWQKICAgICAqLwogICAgY2hhbmdlKGFjdGl2ZU51bSkgewogICAgICB0aGlzLmNvbW1lbnRUZXh0ID0gYCJAJHthY3RpdmVOdW19IjpgCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy/ojrflj5bor4TorrrliJfooajjgIIKICAgIHRoaXMuZ2V0Q29tbWVudHMoKTsKICAgIHRoaXMuZ2V0TGlrZU51bXMoKTsKICB9LAoKfQo="},{"version":3,"sources":["PanelComment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"PanelComment.vue","sourceRoot":"src/pages/PostPage/components/Panel","sourcesContent":["<template>\r\n    <div class=\"ContentAll\">\r\n        <div class=\"PosterInfo\">\r\n            <div class=\"Avatar\">\r\n                <div @click=\"gotoPerson(postInfo.userId)\" class=\"avatar\" v-if=\"!item.anonym\">\r\n                    <el-avatar :size=\"42\" :src=\"postInfo.userImg\"></el-avatar>\r\n                </div>\r\n                <div @click=\"gotoPerson(postInfo.userId)\" class=\"avatar\" v-if=\"item.anonym\">\r\n                    <el-avatar :size=\"42\" :src=\"anonymousAvatar\"></el-avatar>\r\n                </div>\r\n                <el-tooltip class=\"item\" content=\"关注用户\" effect=\"dark\" placement=\"right\" v-if=\"!item.anonym\">\r\n                    <button class=\"IconButton\" id=\"followButton\">\r\n                        <img :src=\"followUrl\" @click=\"follow\" alt=\"关注按钮\">\r\n                    </button>\r\n                </el-tooltip>\r\n            </div>\r\n            <div class=\"Icon\">\r\n                <el-tooltip class=\"item\" content=\"举报该帖\" effect=\"dark\" placement=\"left\">\r\n                    <button class=\"IconButton\" id=\"reportButton\">\r\n                        <img :src=\"reportUrl\" @click=\"reportPost\" alt=\"举报按钮\">\r\n                    </button>\r\n                </el-tooltip>\r\n            </div>\r\n        </div>\r\n        <div class=\"Comment\">\r\n            <p v-if=\"commentList.length==0\">暂无评论，我来发表第一篇评论！</p>\r\n            <el-collapse @change=\"change\" accordion v-model=\"activeName\">\r\n                <el-collapse-item :key=\"index\"\r\n                                  :name=\"item[0].commentId\"\r\n                                  v-for=\"(item,index) in commentList\">\r\n                    <template slot=\"title\">\r\n                        <div class=\"CommentPanel\">\r\n                            <PostCommentAll :headComment=\"item[0]\"></PostCommentAll>\r\n                        </div>\r\n                    </template>\r\n                    <PostCommentChild :headComment=\"item[index]\"\r\n                                      :key=\"index\" v-for=\"(i,index) in item\">\r\n                    </PostCommentChild>\r\n                </el-collapse-item>\r\n            </el-collapse>\r\n            <div style=\"width:280px;height:30px;background-color: #3c3d3e\"></div>\r\n        </div>\r\n        <div class=\"IconGroup\" style=\"display: flex\">\r\n            <div class=\"Icon\">\r\n                <button @click=\"pressLikeButton\" class=\"IconButton\" id=\"likeButton\">\r\n                    <img :src=\"likeUrl\" alt=\"喜欢按钮\">\r\n                </button>\r\n            </div>\r\n            <div class=\"LikeNum Icon\">\r\n                {{likeNums}}\r\n            </div>\r\n            <div class=\"Icon\">\r\n                <button class=\"IconButton\" id=\"ResendButton\">\r\n                    <img alt=\"转发按钮\" src=\"@/assets/Post/resend.png\">\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class=\"CommentAdder\">\r\n            <el-input\r\n                    maxlength=\"130\"\r\n                    placehoder=\"请输入评论\"\r\n                    show-word-limit\r\n                    type=\"textarea\"\r\n                    v-model=\"commentText\">\r\n            </el-input>\r\n            <button @click=\"addComment\" class=\"CommonButton\">发布</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import PostCommentAll from \"@/pages/PostPage/components/Post/PostCommentAll\";\r\n  import PostCommentChild from \"@/pages/PostPage/components/Post/PostCommentChild\";\r\n\r\n  export default {\r\n    name: \"PanelComment\",\r\n    data() {\r\n      return {\r\n        // replyTarget: `\"@\":`,\r\n        activeName: 1,\r\n        headUrl: \"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png\",\r\n        reportUrl: require(\"@/assets/Post/report.png\"),\r\n        like: this.isLike,\r\n        likeNums: 0,\r\n        likeImgArr: ['like.png', 'like-fill.png'],\r\n        commentList: [],\r\n        commentText: '',\r\n        PostCommentAll: \"PostCommentAll\",\r\n        followUrl: require(\"@/assets/Post/follow.png\"),\r\n      }\r\n    },\r\n    props: {\r\n      isLike: {\r\n        required: true\r\n      },\r\n      item: {\r\n        required: true\r\n      },\r\n      postInfo: {\r\n        required: true\r\n      }\r\n    },\r\n    computed: {\r\n      likeUrl() {\r\n        return require(`@/assets/Post/${this.likeImgArr[this.like]}`);\r\n      },\r\n      anonymousAvatar() {\r\n        return this.ANONYMOUS_AVATAR;\r\n      }\r\n    },\r\n    components: {\r\n      PostCommentAll,\r\n      PostCommentChild\r\n    },\r\n    methods: {\r\n      /**\r\n       * @description 跳转到个人空间\r\n       */\r\n      gotoPerson(otherId) {\r\n        if (otherId == sessionStorage.getItem('ID')) {\r\n          this.$router.push('/personpage')\r\n        } else {\r\n          this.$router.push(`/others/${otherId}`)\r\n        }\r\n      },\r\n      /**\r\n       * @description 传递点赞按钮事件的函数\r\n       */\r\n      pressLikeButton() {\r\n        this.like ? this.like = 0 : this.like = 1;\r\n        let that = this;\r\n        if (this.like === 1) {\r\n          this.axios.post(`${this.GLOBAL.apiUrl}/addlike`, {\r\n            userId: sessionStorage.getItem(\"ID\"),\r\n            postId: that.item.postId,\r\n          })\r\n            .then(() => {\r\n              this.$emit(\"childAddLike\")\r\n              this.likeNums++;\r\n            })\r\n        } else {\r\n          this.axios.get(`${this.GLOBAL.apiUrl}/removelike`, {\r\n            params: {\r\n              userId: sessionStorage.getItem(\"ID\"),\r\n              postId: that.item.postId,\r\n            }\r\n          })\r\n            .then(() => {\r\n              this.likeNums--;\r\n              this.$emit(\"childRemoveLike\")\r\n            })\r\n        }\r\n      },\r\n      /**\r\n       * @description 发布评论\r\n       */\r\n      addComment() {\r\n        let pattern = /^(\"@)(\\d)+/;\r\n        let r = this.commentText.match(pattern);\r\n        let replyCommentId = (r == null) ? 0 : r[0].split('@')[1];\r\n        let anonym=this.$store.state.isAnonymous;\r\n        this.axios.post(`${this.GLOBAL.apiUrl}/comment/createcomment`, {\r\n          \"commentContent\": this.commentText,\r\n          \"postId\": this.item.postId,\r\n          \"userId\": sessionStorage.getItem(\"ID\"),\r\n          anonym,\r\n          replyCommentId\r\n        })\r\n          .then((response) => {\r\n            console.log(this.commentList)\r\n            let newCommentChildList = [];\r\n            newCommentChildList.push(response.data.newComment)\r\n            if (!replyCommentId) {//如果是顶层回复\r\n              this.commentList.push(newCommentChildList);\r\n            } else {//如果是评论的回复\r\n                for(let index in this.commentList) {\r\n                  if(this.commentList[index][0].commentId == replyCommentId) {\r\n                    this.commentList[index].push(response.data.newComment)\r\n                  }\r\n                }\r\n            }\r\n            console.log(this.commentList)\r\n          })\r\n        // this.commentNum.push(this.commentText);\r\n        this.commentText = ''\r\n      },\r\n      /**\r\n       * @description 举报帖子\r\n       */\r\n      reportPost() {\r\n        this.$confirm('你确定要举报此贴吗?', '举报', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        })\r\n          .then(() => {\r\n            this.axios.get(`${this.GLOBAL.apiUrl}/tipoffpost`, {\r\n              params: {\r\n                postId: this.item.postId,\r\n              }\r\n            })\r\n              .then(() => {\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '举报成功！'\r\n                });\r\n                // console.log(response)\r\n              })\r\n          })\r\n          .catch(() => {\r\n            this.$message({\r\n              type: 'info',\r\n              message: '已取消举报操作'\r\n            })\r\n          })\r\n      },\r\n      /**\r\n       * @description 关注用户\r\n       */\r\n      follow() {\r\n        this.axios.get(`${this.GLOBAL.apiUrl}/addFollow`, {\r\n          params: {\r\n            userId: sessionStorage.getItem('ID'),\r\n            followId: this.postInfo.userId,\r\n          }\r\n        }).then(() => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '关注成功！'\r\n          });\r\n        })\r\n      },\r\n      /**\r\n       * @description 获取评论列表\r\n       */\r\n      getComments() {\r\n        this.axios.get(`${this.GLOBAL.apiUrl}/comment/getcommentbypostid`, {\r\n          params: {\r\n            postId: this.item.postId\r\n          }\r\n        }).then((response) => {\r\n          console.log(response)\r\n          let commentList = response.data.commentList;\r\n          for (let index in commentList) {\r\n            this.commentList.push(commentList[index])\r\n            // console.log(commentList[index], index)\r\n          }\r\n        })\r\n      },\r\n      /**\r\n       * @description 获取点赞数\r\n       */\r\n      getLikeNums() {\r\n        this.axios.get(`${this.GLOBAL.apiUrl}/getlikenum`, {\r\n          params: {\r\n            postId: this.item.postId\r\n          }\r\n        }).then((response) => {\r\n          this.likeNums = response.data.likeNum;\r\n        })\r\n      },\r\n      /**\r\n       * @description 点击某栏后的操作\r\n       * @param activeNum 点击某栏后获得的栏号，此处是评论的id\r\n       */\r\n      change(activeNum) {\r\n        this.commentText = `\"@${activeNum}\":`\r\n      }\r\n    },\r\n    created() {\r\n      //获取评论列表。\r\n      this.getComments();\r\n      this.getLikeNums();\r\n    },\r\n\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import \"~@/CSS/Common.less\";\r\n\r\n    p {\r\n        margin: 15px auto;\r\n    }\r\n\r\n    .PosterInfo {\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n\r\n    .LikeNum {\r\n        color: #7f7f7f;\r\n    }\r\n\r\n    .Icon {\r\n        background-color: white;\r\n    }\r\n\r\n    .IconButton {\r\n        background-color: white;\r\n    }\r\n\r\n    .Comment {\r\n        margin: 2px auto;\r\n        display: flex;\r\n        .setSize(280px, 400px);\r\n        .setBorder();\r\n        flex-direction: column;\r\n        justify-content: flex-start;\r\n        overflow: auto;\r\n    }\r\n\r\n    .ContentAll {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .CommentAdder {\r\n        display: flex;\r\n        justify-content: center;\r\n        flex-direction: column;\r\n        .setSize(280px, 100px);\r\n        margin: 2px auto 10px auto;\r\n    }\r\n\r\n    .CommentEditor {\r\n        .setSize(100%, 100%);\r\n        .setBorder();\r\n        background-color: white;\r\n        margin: 2px 0 -30px 0;\r\n    }\r\n\r\n    .CommentPanel {\r\n        width: 100%;\r\n    }\r\n\r\n    .Avatar {\r\n        display: flex;\r\n\r\n        .avatar:hover {\r\n            cursor: pointer;\r\n        }\r\n    }\r\n\r\n</style>\r\n\r\n<style lang=\"less\">\r\n    .Comment {\r\n        .el-collapse-item__header {\r\n            display: flex;\r\n            min-height: 65px;\r\n            max-height: 105px;\r\n            line-height: 15px;\r\n            background-color: whitesmoke;\r\n        }\r\n        .el-collapse-item__wrap {\r\n            background-color: #eeeeee;\r\n        }\r\n    }\r\n\r\n\r\n</style>"]}]}