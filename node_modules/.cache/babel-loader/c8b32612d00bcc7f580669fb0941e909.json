{"remainingRequest":"C:\\Users\\Macbook Pro\\Desktop\\新建文件夹 (2)\\Daily-6-1\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Macbook Pro\\Desktop\\新建文件夹 (2)\\Daily-6-1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Macbook Pro\\Desktop\\新建文件夹 (2)\\Daily-6-1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Macbook Pro\\Desktop\\新建文件夹 (2)\\Daily-6-1\\src\\pages\\PostPage\\components\\Panel\\PanelTag.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Macbook Pro\\Desktop\\新建文件夹 (2)\\Daily-6-1\\src\\pages\\PostPage\\components\\Panel\\PanelTag.vue","mtime":1590508887523},{"path":"C:\\Users\\Macbook Pro\\Desktop\\新建文件夹 (2)\\Daily-6-1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1590508866028},{"path":"C:\\Users\\Macbook Pro\\Desktop\\新建文件夹 (2)\\Daily-6-1\\node_modules\\babel-loader\\lib\\index.js","mtime":1590508865567},{"path":"C:\\Users\\Macbook Pro\\Desktop\\新建文件夹 (2)\\Daily-6-1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1590508866028},{"path":"C:\\Users\\Macbook Pro\\Desktop\\新建文件夹 (2)\\Daily-6-1\\node_modules\\vue-loader\\lib\\index.js","mtime":1590508885674}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlBhbmVsVGFnIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZHluYW1pY1RhZ3M6IFtdLAogICAgICBpbnB1dFZpc2libGU6IGZhbHNlLAogICAgICBpbnB1dFZhbHVlOiAnJwogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBpdGVtOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UodGFnKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgiIi5jb25jYXQodGhpcy5HTE9CQUwuYXBpVXJsLCAiL3JlbW92ZXRhZyIpLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICB0YWdJZDogdGFnLnRhZ0lkCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzLmR5bmFtaWNUYWdzLnNwbGljZShfdGhpcy5keW5hbWljVGFncy5pbmRleE9mKHRhZyksIDEpOwoKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogInRhZyIuY29uY2F0KHRhZy50YWdDb250ZW50LCAiXHU1MjIwXHU5NjY0XHU2MjEwXHU1MjlGIiksCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzaG93SW5wdXQ6IGZ1bmN0aW9uIHNob3dJbnB1dCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmlucHV0VmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJHJlZnMuc2F2ZVRhZ0lucHV0LiRyZWZzLmlucHV0LmZvY3VzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUlucHV0Q29uZmlybTogZnVuY3Rpb24gaGFuZGxlSW5wdXRDb25maXJtKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBpbnB1dFZhbHVlID0gdGhpcy5pbnB1dFZhbHVlOwoKICAgICAgaWYgKGlucHV0VmFsdWUpIHsKICAgICAgICB0aGlzLmF4aW9zLnBvc3QoIiIuY29uY2F0KHRoaXMuR0xPQkFMLmFwaVVybCwgIi9hZGR0YWciKSwgewogICAgICAgICAgdGFnQ29udGVudDogaW5wdXRWYWx1ZSwKICAgICAgICAgIHBvc3RJZDogdGhpcy5pdGVtLnBvc3RJZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczMuZHluYW1pY1RhZ3MucHVzaCh7CiAgICAgICAgICAgIHRhZ0lkOiByZXNwb25zZS5kYXRhLnRhZ0lkLAogICAgICAgICAgICB0YWdDb250ZW50OiBpbnB1dFZhbHVlCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5pbnB1dFZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5pbnB1dFZhbHVlID0gJyc7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdGhpcy5heGlvcy5nZXQoIiIuY29uY2F0KHRoaXMuR0xPQkFMLmFwaVVybCwgIi8vbGlzdHRhZyIpLCB7CiAgICAgIHBhcmFtczogewogICAgICAgIHBvc3RJZDogdGhhdC5pdGVtLnBvc3RJZAogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgdGFnTGlzdCA9IHJlc3BvbnNlLmRhdGEudGFnTGlzdDsKCiAgICAgIGZvciAodmFyIGluZGV4IGluIHRhZ0xpc3QpIHsKICAgICAgICBfdGhpczQuZHluYW1pY1RhZ3MucHVzaCh0YWdMaXN0W2luZGV4XSk7CiAgICAgIH0KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["PanelTag.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA,KAFA;AAGA,MAAA,UAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,QAAA,EAAA;AADA;AADA,GATA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,GADA,EACA;AAAA;;AAEA,WAAA,KAAA,CAAA,GAAA,WAAA,KAAA,MAAA,CAAA,MAAA,iBAAA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,KAAA,EAAA,GAAA,CAAA;AADA;AADA,OAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,UAAA,KAAA,CAAA,WAAA,CAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,OAAA,CAAA,GAAA,CAAA,EAAA,CAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,eAAA,GAAA,CAAA,UAAA,6BADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAKA;AACA,OAbA;AAcA,KAjBA;AAmBA,IAAA,SAnBA,uBAmBA;AAAA;;AACA,WAAA,YAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,YAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA;AACA,OAFA;AAGA,KAxBA;AA0BA,IAAA,kBA1BA,gCA0BA;AAAA;;AACA,UAAA,UAAA,GAAA,KAAA,UAAA;;AACA,UAAA,UAAA,EAAA;AACA,aAAA,KAAA,CAAA,IAAA,WAAA,KAAA,MAAA,CAAA,MAAA,cAAA;AACA,UAAA,UAAA,EAAA,UADA;AAEA,UAAA,MAAA,EAAA,KAAA,IAAA,CAAA;AAFA,SAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,IAAA,CACA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,KADA;AAEA,YAAA,UAAA,EAAA;AAFA,WADA;AAKA,SAVA;AAWA;;AACA,WAAA,YAAA,GAAA,KAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA;AA3CA,GAdA;AA2DA,EAAA,OA3DA,qBA2DA;AAAA;;AACA,QAAA,IAAA,GAAA,IAAA;AACA,SAAA,KAAA,CAAA,GAAA,WAAA,KAAA,MAAA,CAAA,MAAA,gBAAA;AACA,MAAA,MAAA,EAAA;AACA,QAAA,MAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AADA;AADA,KAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,UAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;;AACA,WAAA,IAAA,KAAA,IAAA,OAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,CAAA,IAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA;AACA,KATA;AAUA;AAvEA,CAAA","sourcesContent":["<template>\r\n    <div class=\"TagAll\">\r\n        <el-tag\r\n                :key=\"index\"\r\n                v-for=\"(tag,index) in dynamicTags\"\r\n                closable\r\n                :disable-transitions=\"false\"\r\n                @close=\"handleClose(tag)\">\r\n            {{tag.tagContent}}\r\n        </el-tag>\r\n        <el-input\r\n                class=\"input-new-tag\"\r\n                v-if=\"inputVisible\"\r\n                v-model=\"inputValue\"\r\n                ref=\"saveTagInput\"\r\n                size=\"small\"\r\n                @keyup.enter.native=\"handleInputConfirm\"\r\n                @blur=\"handleInputConfirm\"\r\n        >\r\n        </el-input>\r\n        <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ New Tag</el-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  export default {\r\n    name: \"PanelTag\",\r\n    data() {\r\n      return {\r\n        dynamicTags: [],\r\n        inputVisible: false,\r\n        inputValue: ''\r\n      };\r\n    },\r\n    props:{\r\n      item:{\r\n        required:true,\r\n      }\r\n    },\r\n    methods: {\r\n      handleClose(tag) {\r\n\r\n        this.axios.get(`${this.GLOBAL.apiUrl}/removetag`,{\r\n          params:{\r\n            tagId:tag.tagId\r\n          }\r\n        }).then((response) =>{\r\n          if(response.data.success) {\r\n            this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\r\n            this.$message({\r\n              message:`tag${tag.tagContent}删除成功`,\r\n              type:'success'\r\n            })\r\n\r\n          }\r\n        })\r\n      },\r\n\r\n      showInput() {\r\n        this.inputVisible = true;\r\n        this.$nextTick( () => {\r\n          this.$refs.saveTagInput.$refs.input.focus();\r\n        });\r\n      },\r\n\r\n      handleInputConfirm() {\r\n        let inputValue = this.inputValue;\r\n        if (inputValue) {\r\n          this.axios.post(`${this.GLOBAL.apiUrl}/addtag`,{\r\n              tagContent:inputValue,\r\n              postId:this.item.postId,\r\n          })\r\n            .then((response)=>{\r\n            this.dynamicTags.push(\r\n              {\r\n                tagId:response.data.tagId,\r\n                tagContent: inputValue\r\n              });\r\n          })\r\n        }\r\n        this.inputVisible = false;\r\n        this.inputValue = '';\r\n      }\r\n    },\r\n    created() {\r\n      let that = this;\r\n      this.axios.get(`${this.GLOBAL.apiUrl}//listtag`,{\r\n        params:{\r\n          postId: that.item.postId,\r\n        }\r\n      }).then((response)=>{\r\n        let tagList = response.data.tagList\r\n        for(let index in tagList) {\r\n          this.dynamicTags.push(tagList[index]);\r\n        }\r\n      })\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    .TagAll {\r\n        margin: 15px 12px;\r\n    }\r\n    .el-tag + .el-tag {\r\n        margin-left: 10px;\r\n    }\r\n    .button-new-tag {\r\n        margin-left: 10px;\r\n        height: 32px;\r\n        line-height: 30px;\r\n        padding-top: 0;\r\n        padding-bottom: 0;\r\n    }\r\n    .input-new-tag {\r\n        width: 90px;\r\n        margin-left: 10px;\r\n        vertical-align: bottom;\r\n    }\r\n</style>"],"sourceRoot":"src/pages/PostPage/components/Panel"}]}